#!/bin/sh
#=============================================================================#
# File:   ~/.bashrc                                                           #
# Author: hradecek <ivohradek@gmail.com>                                      #
#=============================================================================#

# Directory where everything is stored
BASH="$HOME/dotfiles/bash"

# Choose theme
THEME="rjorgenson"

# History control
HISTSIZE=2000
HISFILESIZE=2000
HISTCONTROL=ignoreboth

# Press CTRL+D two time to exit shell
IGNOREEOF="1"

# sudo, man completition
complete -cf man
complete -cf sudo

# Auto cd
shopt -s autocd

# Combine multiline commands into one in history
shopt -s cmdhist

# Include .files when globbing
shopt -s dotglob

# Glob expands rather empty
shopt -s nullglob

# Append to history
shopt -s histappend

# Autocorrect typos in `cd`
shopt -s cdspell

# Disable old XON/XOFF flow control
stty -ixon

# Dir colors
eval "$(dircolors ~/.dircolors)"

# Environment variables
export EDITOR="/usr/bin/vim"
export JAVA_HOME=$(readlink -f /usr/bin/java | sed "s:bin/java::")
export ANDROID_HOME="/opt/android-sdk"
if [[ $HOSTNAME -eq "Antares" ]]; then
    export KRB5_PATH="$HOME/Kerberos5"
    export EAP6_PATH="$HOME/EAP-6.4.0"
fi
if [[ -d /opt/android-sdk ]]; then
    PATH="$PATH:/opt/android-sdk/platform-tools/:/opt/android-sdk/tools"
fi
if [[ $(which ruby) ]]; then
    PATH="$PATH:$HOME/.gem/ruby/2.2.0/bin"
fi
if [[ -d $HOME/bin ]]; then
    PATH="$PATH:$HOME/bin"
fi
if [[ -d "$HOME/.cabal/bin" ]]; then
    PATH="$HOME/.cabal/bin:$PATH"
fi

# Load extension functions
FUNCTIONS="$BASH/functions.bash"
if [[ -f $FUNCTIONS ]]; then
    source $FUNCTIONS
fi

# Load completions
COMPLETIONS="$BASH/completions/*.completion.bash"
for file in $COMPLETIONS; do
    if [[ -f $file ]]; then
        source $file
    fi
done

# Load aliases
ALIASES="$BASH/aliases/*.aliases.bash"
for file in $ALIASES; do
    if [[ -f $file ]]; then
        source $file
    fi
done

#Load theme
source "$BASH/themes/colors.theme.bash"
source "$BASH/themes/base.theme.bash"
source "$BASH/themes/$THEME/${THEME}.theme.bash"

# Main prompt
if [ $PROMPT ]; then
    export PS1=$PROMPT
fi


PATH="/home/ivo/perl5/bin${PATH+:}${PATH}"; export PATH;
PERL5LIB="/home/ivo/perl5/lib/perl5${PERL5LIB+:}${PERL5LIB}"; export PERL5LIB;
PERL_LOCAL_LIB_ROOT="/home/ivo/perl5${PERL_LOCAL_LIB_ROOT+:}${PERL_LOCAL_LIB_ROOT}"; export PERL_LOCAL_LIB_ROOT;
PERL_MB_OPT="--install_base \"/home/ivo/perl5\""; export PERL_MB_OPT;
PERL_MM_OPT="INSTALL_BASE=/home/ivo/perl5"; export PERL_MM_OPT;
